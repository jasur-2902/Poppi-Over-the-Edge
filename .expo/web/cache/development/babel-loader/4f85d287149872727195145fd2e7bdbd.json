{"ast":null,"code":"import ReanimatedEventEmitter from \"../ReanimatedEventEmitter\";\nimport { val } from \"../utils\";\nimport AnimatedNode from \"./AnimatedNode\";\nvar NODE_MAPPING = new Map();\n\nfunction listener(data) {\n  var node = NODE_MAPPING.get(data.id);\n  node && node._callback(data.args);\n}\n\nexport default class AnimatedCall extends AnimatedNode {\n  constructor(args, jsFunction) {\n    super({\n      type: 'call',\n      input: args.map(n => n.__nodeID)\n    }, args);\n    this._callback = jsFunction;\n    this._args = args;\n  }\n\n  __attach() {\n    super.__attach();\n\n    NODE_MAPPING.set(this.__nodeID, this);\n\n    if (NODE_MAPPING.size === 1) {\n      ReanimatedEventEmitter.addListener('onReanimatedCall', listener);\n    }\n  }\n\n  __detach() {\n    NODE_MAPPING.delete(this.__nodeID);\n\n    if (NODE_MAPPING.size === 0) {\n      ReanimatedEventEmitter.removeAllListeners('onReanimatedCall');\n    }\n\n    super.__detach();\n  }\n\n  __onEvaluate() {\n    this._callback(this._args.map(val));\n\n    return 0;\n  }\n\n}","map":{"version":3,"sources":["C:/Users/jshukurov/Desktop/Poppi Over The Edge/Poppi-Over-the-Edge-master/node_modules/react-native-reanimated/src/core/AnimatedCall.js"],"names":["ReanimatedEventEmitter","val","AnimatedNode","NODE_MAPPING","Map","listener","data","node","get","id","_callback","args","AnimatedCall","constructor","jsFunction","type","input","map","n","__nodeID","_args","__attach","set","size","addListener","__detach","delete","removeAllListeners","__onEvaluate"],"mappings":"AAAA,OAAOA,sBAAP;AACA,SAASC,GAAT;AACA,OAAOC,YAAP;AAEA,IAAMC,YAAY,GAAG,IAAIC,GAAJ,EAArB;;AAEA,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACtB,MAAMC,IAAI,GAAGJ,YAAY,CAACK,GAAb,CAAiBF,IAAI,CAACG,EAAtB,CAAb;AACAF,EAAAA,IAAI,IAAIA,IAAI,CAACG,SAAL,CAAeJ,IAAI,CAACK,IAApB,CAAR;AACD;;AAED,eAAe,MAAMC,YAAN,SAA2BV,YAA3B,CAAwC;AAIrDW,EAAAA,WAAW,CAACF,IAAD,EAAOG,UAAP,EAAmB;AAC5B,UAAM;AAAEC,MAAAA,IAAI,EAAE,MAAR;AAAgBC,MAAAA,KAAK,EAAEL,IAAI,CAACM,GAAL,CAASC,CAAC,IAAIA,CAAC,CAACC,QAAhB;AAAvB,KAAN,EAA0DR,IAA1D;AACA,SAAKD,SAAL,GAAiBI,UAAjB;AACA,SAAKM,KAAL,GAAaT,IAAb;AACD;;AAEDU,EAAAA,QAAQ,GAAG;AACT,UAAMA,QAAN;;AACAlB,IAAAA,YAAY,CAACmB,GAAb,CAAiB,KAAKH,QAAtB,EAAgC,IAAhC;;AACA,QAAIhB,YAAY,CAACoB,IAAb,KAAsB,CAA1B,EAA6B;AAC3BvB,MAAAA,sBAAsB,CAACwB,WAAvB,CAAmC,kBAAnC,EAAuDnB,QAAvD;AACD;AACF;;AAEDoB,EAAAA,QAAQ,GAAG;AACTtB,IAAAA,YAAY,CAACuB,MAAb,CAAoB,KAAKP,QAAzB;;AACA,QAAIhB,YAAY,CAACoB,IAAb,KAAsB,CAA1B,EAA6B;AAC3BvB,MAAAA,sBAAsB,CAAC2B,kBAAvB,CAA0C,kBAA1C;AACD;;AACD,UAAMF,QAAN;AACD;;AAEDG,EAAAA,YAAY,GAAG;AACb,SAAKlB,SAAL,CAAe,KAAKU,KAAL,CAAWH,GAAX,CAAehB,GAAf,CAAf;;AACA,WAAO,CAAP;AACD;;AA7BoD","sourcesContent":["import ReanimatedEventEmitter from '../ReanimatedEventEmitter';\nimport { val } from '../utils';\nimport AnimatedNode from './AnimatedNode';\n\nconst NODE_MAPPING = new Map();\n\nfunction listener(data) {\n  const node = NODE_MAPPING.get(data.id);\n  node && node._callback(data.args);\n}\n\nexport default class AnimatedCall extends AnimatedNode {\n  _callback;\n  _args;\n\n  constructor(args, jsFunction) {\n    super({ type: 'call', input: args.map(n => n.__nodeID) }, args);\n    this._callback = jsFunction;\n    this._args = args;\n  }\n\n  __attach() {\n    super.__attach();\n    NODE_MAPPING.set(this.__nodeID, this);\n    if (NODE_MAPPING.size === 1) {\n      ReanimatedEventEmitter.addListener('onReanimatedCall', listener);\n    }\n  }\n\n  __detach() {\n    NODE_MAPPING.delete(this.__nodeID);\n    if (NODE_MAPPING.size === 0) {\n      ReanimatedEventEmitter.removeAllListeners('onReanimatedCall');\n    }\n    super.__detach();\n  }\n\n  __onEvaluate() {\n    this._callback(this._args.map(val));\n    return 0;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}